---
title: PDF Parsing 실험 일지(작성 중)
category: Dev Log
tag: Development
---







* 목차
{:toc}











실험 대상 pdf는 [우리은행 (20240603) 금융시장 브리프.pdf](https://www.wfri.re.kr/ko/web/research_report/research_report.php?idx=1409&page_type=view&mode=view&page=&page_limit=&search_key=front&search_type=card)로, Google에 "금융보고서"를 검색하여 랜덤하게 다운받은 pdf이다. 해당 pdf에서 차트와 표 그리고 텍스트가 고루 포함된 페이지를 대표 실험 대상으로 삼음. 해당 보고서 내용과 본 포스트는 무관함.


# 1. PDF Layout detection
## 1.1 Detectron2 

### 1.1.1 Detectron2 Model list

[modelzoo](https://layout-parser.readthedocs.io/en/latest/notes/modelzoo.html)에서 확인 가능

### 1.1.2 Detectron2 Pirma output 시각화
<center><img width="800" src="https://github.com/finddme/finddme.github.io/assets/53667002/34635ad2-860b-4b07-aaee-d047b2241503"></center>
<center><em style="color:gray;">Pirma detection result</em></center><br>

## 1.2 PDFQuery(PDF to xml)

PDF 구조를 xml로 변경하여 layout 파악

# 2. PDF text extraction
## 2.1 PDF to markdown(Rule base)
- huggingface demo: https://huggingface.co/spaces/huggingchat/pdf-to-markdown
pypdf.PdfReader
ocrmypdf

# 3. PDF table extraction
## 3.1 camelot-py

테이블데이터 추출(한국어도 잘 됨)


# 4. SwinTransformer Encoder - BART Decoder (Donut / Nougat)

Encoder로 layout detection 후 Decoder로 bounding box 내부 text 추출하는 모델 

- Donut Github: https://github.com/clovaai/donut/
- Nougat Github: https://github.com/facebookresearch/nougat/tree/main?tab=readme-ov-file
  
## 4.1 Donut (naver clovaai)
<center><img width="1000" src="https://github.com/finddme/finddme.github.io/assets/53667002/6777cf3a-9479-4675-bf95-8a0df67d1a2f"></center>
<center><em style="color:gray;">Donut text extraction result</em></center><br>

추출되는 것이 거의 없음 

## 4.2 Nougat (meta)

추출되는 것이 전혀 없음

결론: 한국어 text 추출에 취약함. SwinTransformer로 bbox 특정 후 한국어 추출을 잘 하는 라이브러리로 text를 따로 추출해야 할 것 같음 


